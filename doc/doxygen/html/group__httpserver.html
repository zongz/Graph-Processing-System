<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9"/>
<title>GraphLab: Distributed Graph-Parallel API: Metrics Reporting Webserver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GraphLab: Distributed Graph-Parallel API
   &#160;<span id="projectnumber">2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__httpserver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Metrics Reporting Webserver</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga353d1693839f28c6aac499ac24b21a7a"><td class="memItemLeft" align="right" valign="top">typedef boost::function&lt; std::pair&lt; std::string, std::string &gt;std::map&lt; std::string, std::string &gt; &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__httpserver.html#ga353d1693839f28c6aac499ac24b21a7a">graphlab::http_redirect_callback_type</a></td></tr>
<tr class="separator:ga353d1693839f28c6aac499ac24b21a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadcb5129065f79c97da4245281570749b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__httpserver.html#gadcb5129065f79c97da4245281570749b">graphlab::add_metric_server_callback</a> (std::string page, http_redirect_callback_type callback)</td></tr>
<tr class="memdesc:gadcb5129065f79c97da4245281570749b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used to map a URL on the mtrics server to a processing function.  <a href="#gadcb5129065f79c97da4245281570749b">More...</a><br /></td></tr>
<tr class="separator:gadcb5129065f79c97da4245281570749b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bbea57ed2161d63ade7b12ea866aa1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__httpserver.html#ga4bbea57ed2161d63ade7b12ea866aa1a">graphlab::launch_metric_server</a> ()</td></tr>
<tr class="memdesc:ga4bbea57ed2161d63ade7b12ea866aa1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the metrics reporting server.  <a href="#ga4bbea57ed2161d63ade7b12ea866aa1a">More...</a><br /></td></tr>
<tr class="separator:ga4bbea57ed2161d63ade7b12ea866aa1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa12410b6098ab43fc1cf8b295ab02604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__httpserver.html#gaa12410b6098ab43fc1cf8b295ab02604">graphlab::stop_metric_server</a> ()</td></tr>
<tr class="memdesc:gaa12410b6098ab43fc1cf8b295ab02604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the metrics reporting server if one is started.  <a href="#gaa12410b6098ab43fc1cf8b295ab02604">More...</a><br /></td></tr>
<tr class="separator:gaa12410b6098ab43fc1cf8b295ab02604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96234843e9b9ee0cdbb20856535576dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__httpserver.html#ga96234843e9b9ee0cdbb20856535576dc">graphlab::stop_metric_server_on_eof</a> ()</td></tr>
<tr class="memdesc:ga96234843e9b9ee0cdbb20856535576dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for a ctrl-D on machine 0, and stops the metrics reporting server if one is started.  <a href="#ga96234843e9b9ee0cdbb20856535576dc">More...</a><br /></td></tr>
<tr class="separator:ga96234843e9b9ee0cdbb20856535576dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga353d1693839f28c6aac499ac24b21a7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt;std::pair&lt;std::string, std::string&gt;std::map&lt;std::string, std::string&gt;&amp;)&gt; <a class="el" href="group__httpserver.html#ga353d1693839f28c6aac499ac24b21a7a">graphlab::http_redirect_callback_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The callback type used for <a class="el" href="group__httpserver.html#gadcb5129065f79c97da4245281570749b" title="This is used to map a URL on the mtrics server to a processing function. ">add_metric_server_callback()</a> See <a class="el" href="group__httpserver.html#gadcb5129065f79c97da4245281570749b" title="This is used to map a URL on the mtrics server to a processing function. ">add_metric_server_callback()</a> for details. </p>

<p>Definition at line <a class="el" href="metrics__server_8hpp_source.html#l00042">42</a> of file <a class="el" href="metrics__server_8hpp_source.html">metrics_server.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadcb5129065f79c97da4245281570749b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graphlab::add_metric_server_callback </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__httpserver.html#ga353d1693839f28c6aac499ac24b21a7a">http_redirect_callback_type</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is used to map a URL on the mtrics server to a processing function. </p>
<p>The processing function must have the prototype </p><div class="fragment"><div class="line">std::pair&lt;std::string, std::string&gt; callback(std::map&lt;std::string, std::string&gt;&amp;)</div>
</div><!-- fragment --><p>The processing function takes a map of GET variables to their corresponding values, and returns a pair of strings. (content_type, content) </p><ul>
<li><code>content</code> type is the http content_type header. For instance text/plain or text/html. </li>
<li><code>content</code> is the actual body</li>
</ul>
<p>For instance: The builtin 404 handler looks like this:</p>
<div class="fragment"><div class="line">std::pair&lt;std::string, std::string&gt; </div>
<div class="line">four_oh_four(std::map&lt;std::string, std::string&gt;&amp; varmap) {</div>
<div class="line">  <span class="keywordflow">return</span> std::make_pair(std::string(<span class="stringliteral">&quot;text/html&quot;</span>), </div>
<div class="line">                      std::string(<span class="stringliteral">&quot;Page Not Found&quot;</span>));</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The callbacks are only processed on machine 0 since only machine 0 launches the server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The page to map. For instance <code>page = "a.html"</code> will be shown on <a href="http://">http://</a>[server]/a.html </td></tr>
    <tr><td class="paramname">callback</td><td>The callback function to use to process the page </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="metrics__server_8cpp_source.html#l00198">198</a> of file <a class="el" href="metrics__server_8cpp_source.html">metrics_server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga4bbea57ed2161d63ade7b12ea866aa1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graphlab::launch_metric_server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the metrics reporting server. </p>
<p>The function may be called by all machines simultaneously since it only does useful work on machine 0. Only machine 0 will launch the web server. </p>

<p>Definition at line <a class="el" href="metrics__server_8cpp_source.html#l00205">205</a> of file <a class="el" href="metrics__server_8cpp_source.html">metrics_server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaa12410b6098ab43fc1cf8b295ab02604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graphlab::stop_metric_server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the metrics reporting server if one is started. </p>
<p>The function may be called by all machines simultaneously since it only does useful work on machine 0. </p>

<p>Definition at line <a class="el" href="metrics__server_8cpp_source.html#l00224">224</a> of file <a class="el" href="metrics__server_8cpp_source.html">metrics_server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga96234843e9b9ee0cdbb20856535576dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graphlab::stop_metric_server_on_eof </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for a ctrl-D on machine 0, and stops the metrics reporting server if one is started. </p>
<p>The function may be called by all machines simultaneously since it only does useful work on machine 0. It waits for the stdin stream to close (when the user hit ctrl-d), then shuts down the server. </p>

<p>Definition at line <a class="el" href="metrics__server_8cpp_source.html#l00231">231</a> of file <a class="el" href="metrics__server_8cpp_source.html">metrics_server.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 29 2014 17:16:26 for GraphLab: Distributed Graph-Parallel API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9 </li>
  </ul>
</div>
</body>
</html>
