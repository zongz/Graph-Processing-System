<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9"/>
<title>GraphLab: Distributed Graph-Parallel API: Graph File Formats</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GraphLab: Distributed Graph-Parallel API
   &#160;<span id="projectnumber">2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('graph_formats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Graph File Formats </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We build in support for 3 common portable graph file formats (tsv, snap, adj), one GraphLab specific portable format (bintsv4) as well 2 GraphLab specific non-portable formats (graphjrl, bin).</p>
<h1><a class="anchor" id="graph_portable_formats"></a>
Portable Formats</h1>
<p>All portable graph file formats supported are unable to store graph data, but can only store graph structure. The formats currently with built-in support are "tsv", "snap", "adj" and "bintsv4", described below. Graphs of this format can be saved / loaded using <a class="el" href="classgraphlab_1_1distributed__graph.html#ae048b720038f05014e0a7e55310369cd" title="Saves the graph in the specified format. This function should be called on all machines simultaneousl...">graphlab::distributed_graph::save_format()</a> and <a class="el" href="classgraphlab_1_1distributed__graph.html#adca36a119fb2e1067a546bb8c61d12cc" title="load a graph with a standard format. Must be called on all machines simultaneously. ">graphlab::distributed_graph::load_format()</a> functions.</p>
<p>"tsv", "snap" and "adj" are text formats and are human readable.</p>
<p>"bintsv4" is a binary format.</p>
<h2><a class="anchor" id="graph_tsv_format"></a>
tsv (edge list)</h2>
<p>The TSV format is a simple edge-list between vertices where each line in the file is a [src ID] [target ID] pair separated by whitespace.</p>
<p>For instance, the following graph: </p><div class="image">
<img src="graph_format_example.gif" alt="graph_format_example.gif"/>
</div>
<p>can be stored as: </p><pre class="fragment">1 2
1 5
7 5
5 7
7 1
</pre><p>Note that vertex IDs do not need to be consecutive, and edges may appear in any arbitrary order. Furthermore, the graph specification requires that vertex IDs are 32-bit integers ranging from 0 to (2^32 - 2). The ID (2^32 - 1) is reserved.</p>
<p>Empty lines in the file are permissible, but no other symbols are permitted.</p>
<p>Observe that the TSV format cannot store vertices with no edges.</p>
<h2><a class="anchor" id="graph_snap_format"></a>
snap (edge list)</h2>
<p>The SNAP file format is supported to simplify the use of datasets from the <a href="http://snap.stanford.edu/data/">Stanford Large Network Dataset Collection</a></p>
<p>The format is identical to TSV TSV with one minor difference: lines beginning with "#" are treated as comments and ignored.</p>
<p>For instance, the following graph: </p><div class="image">
<img src="graph_format_example.gif" alt="graph_format_example.gif"/>
</div>
<p>can be stored as: </p><pre class="fragment"># example graph
# vertices: 4 edges: 5
1 2
1 5
7 5
5 7
7 1
</pre><p>Note that while the file includes a vertex and an edge count in this example, they are treated as comments and ignored.</p>
<p>Observe that the SNAP format cannot store vertices with no edges.</p>
<h2><a class="anchor" id="graph_adj_format"></a>
adj (adjacency list)</h2>
<p>The Adjacency list file format stores on each line, a source vertex, followed by a list of all target vertices: each line has the following format:</p>
<pre class="fragment">[vertex ID]  [number of target vertices] [target ID 1] [target ID 2] [target ID 3] ...
</pre><p>This format is more compact to store, and in practice will partition better in the distributed setting (since edges have a natural grouping). Furthermore, this format is capable of storing disconnected vertices.</p>
<p>For instance, the following graph: </p><div class="image">
<img src="graph_format_example.gif" alt="graph_format_example.gif"/>
</div>
<p>can be stored as: </p><pre class="fragment">1 2 2 5
7 2 7 1
5 1 7
</pre><p>We may include the line </p><pre class="fragment">2 0
</pre><p> to identify that vertex 2 has no out-edges. However, this is optional since vertex 2 will be created when the edge <code>1-&gt;2</code> is created. such lines are only necessary for truly disconnected vertices.</p>
<h2><a class="anchor" id="graph_bintsv4_format"></a>
bintsv4 (binary edge list)</h2>
<p>The bintsv4 format is a binary storage format. The graph is represented as a sequence of 8 byte blocks:</p>
<pre class="fragment">---------------------------------
| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
---------------------------------
|   src VID     |   dest VID    |
---------------------------------
</pre><p>Where each block stores a pair of 32 bit unsigned integer values in x86 little endian format. Each block represents an edge src -&gt; dest. Vertex IDs cannot take on the value 2^32-1</p>
<p>Disconnected vertices are stored as:</p>
<pre class="fragment">---------------------------------
| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
---------------------------------
|      VID      |   2^32 - 1    |
---------------------------------
</pre><h1><a class="anchor" id="graph_nonportable_formats"></a>
Non-Portable Formats</h1>
<p>The non-portable formats store all information in the graph including the graph data. These formats are convenient and in the case of the "bin" format significantly faster to load. However, they are also brittle in that changes to your vertex/edge data serialization will render any saved files unreadable. Also, we may make changes to the serialization binary format at any point. These formats should be treated as fast, temporary storage methods and must not be used for long-term archival.</p>
<h2><a class="anchor" id="graph_format_graphjrl"></a>
graphjrl (Graph Journal)</h2>
<p>The GraphJRL format serializes each vertex and edge onto a <code><br />
</code> terminated line, ensuring to escape any <code><br />
</code> characters that occur within the serialized data.</p>
<p>This format is not human readable and should be treated as temporary storage. Unlike the "bin" format below, graphs saved in this format do not require the same number of machines to load the graph. i.e. graphs saved using 8 machines can be loaded using any arbitrary number of machines.</p>
<h2><a class="anchor" id="graph_format_bin"></a>
bin (Distributed Graph Binary)</h2>
<p>This format is simply a direct serialization of all Distributed Graph datastructures. The graph is finalized before saving, and thus do not need to be finalized after loading. This is the most efficient storage of the distributed graph, requiring the least loading time.</p>
<p>However, the disadvantage of the "bin" format is that it requires exactly the same number of machines to load the graph as there was when saving the graph. In other words, if 8 machines were used to save the graph, it must be loaded using exactly 8 machines. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 29 2014 17:16:26 for GraphLab: Distributed Graph-Parallel API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9 </li>
  </ul>
</div>
</body>
</html>
